Coursera BlockChain Basics
==========================

https://www.coursera.org/learn/blockchain-basics/lecture/Nyuq7/blockchain-defined-bitcoin-blockchain

Week 1 - 10/7/2018
======================

* 3 fundamental characteristics w/c define BC
* Important features of Ethereum BC
* Algos and techniques to enable BC
* Methods for realizing trust

BitCoin:
* Solves double-spending problem by checking all previous transactions
* Autonomous decentralized app
* Peer to peer, no central authority, eliminate intermediaries
* Longest proof-of-work chain is accepted as the truth
* Proof of work is largest pool of CPU power
* Validation
* Verification
* Concensus
* Immutable recording


### Basic Structure:

* Transactions
* Many transactions = block
* Many blocks = Chain

UTXO - Unspent Transaction Output - Set of all UTXOs in bitcoin network define the state of the BC blockchain.

Can be inputs and outputs of a transaction.

Transaction:
- Reference number
  - List of Input UTXOs

List of Ouput UTXOs (newly generated by trans)\
- Total input and output amt

UTXO:
- Unique id\
- Index in the trans output list\
- value\
- script (optional)

Block:
- Header
- Set of valid Transactions
- Block Hashes - Current, prev, next
- Nonce


### Participants

1. Those who initiate transfer of value
2. Miners, who do additional work:
   - Verify transactions
   - Broadcast transactions
   - Compete to create new blocks
   - Reach consensus by validating blocks
   - Broadcast new block
   - Confirm transactions

Miners are incentivised with bitcoins for doing the work.


### Basic Operations:

Transaction validation is carried out independently by all miners.

Transaction validation involves checking 20 criteria.

Reject invalid trans.  Collect valid trans into a pool and select a set of trans to add to a block.

Must solve a puzzle to generate a new block and broadcast.  CPU intensive computational puzzle.  Proof-of-work protocol.

Transaction 0 in each block is called "Coinbase" txn, does not have any input UTXOs, and is for paying the miner fees.

Wallets - Receive payments

Addresses - Send payments to addresses

Wallets keep track of transactions, not balances

Payment uses up a transaction, creates a payment transaction, and a "change" transaction for the remaining amount (if any)


### Blockchain categories

3 types:
- Cryptocurrency only - Bitcoin
- Ccy and business logic (Smart contract scripts) - Etherium
- Only bus logic - Hyperleger

Categories:
- Public - Bitcoin
  - Untrusted
  - Requires defense - `Proof of work`, computationally difficult
  - Costs, requires incentives - Block reward

- Private
  - Limited to selected participants, in a single organization
  - Trusted, can make it easier to add blocks, cheaper
  - Can use transaction fees instead of block rewards.
  - More control - Can revert transactions, modify balances, etc.
  - More privacy

- Permissioned
  - Consortium, multiple organizations

Can have hybrid combinations:
- Private administered smart contracts on public blockchains
- Cross-chain exchange layers between public and private blockchains

### Week 1 Evaluation

Blockchain explorer and Etherscan
- https://www.blockchain.com/explorer
- https://blockexplorer.com/
- https://etherscan.io/

Task 1: Understanding the Genesis Block (Q2-Q3)
- Explore the **Genesis block** (Block 0)

Task 2: Exploring a block in the Bitcoin Blockchain (Q4-Q5)
- Explore block #490624


Week 2 - 10/8/2018
==============================

### Smart Contracts

Bitcoin vs Ethereum:
- Bitcoin has wallet vs smart contracts which can do more than just transfer value.

Smartcontract is a piece of code.  Triggered by a message embedded in a tranaction.

More sophisticated than just add/subtract value.  Conditional logic, waiting for a condition.

Criteria to accept or reject a transaction.

Specific programming languages created for smart contracts.

**Solidity**

Need computational infrastructure.  Each ethereum node must be able to run the code.

Etherium Virtual Machine (EVM)

Contract is collection of code and data (state) that is stored at a specific address on the Ethereum blockchain.

**Accounts**
- External - EOA (Externally owned accounts)  Humans.  Controlled by public/private key pairs
- Contract accounts - Controlled by code.

Each account has key/value storage, and a balance.

**Gas**
- Fee to execute a transaction, to limit the amount of work needed to execute it.
- Gas price is set by creator of the contract, paid up-front.  Any leftover is refunded to the creator.
- if you run out of gas, an exception is triggered and the changes are all reverted back.

Storage, Memory, Stack
- Each account has Storage (key/values)
- Memory - Each contract gets fresh cleared memory for each message call.  Read 256 bits.  Write 8 bits or 256 bits.  Must pay gas when expanding memory.  Gets more expensive quadratically.


### Ethereum Structure

Bitcoin defined state using UTXO

Ethereum added accounts, which are the originators and target of transactions.

EOA - Externally owned accounts

CA - Contact accounts - Controlled by code, activated only be an EOA.

Every account has a coin balance.

Account address is the last 20 bytes of the public key.

1 ether = 10\*\*18 Wei

Eth Transaction Detail:
- Hash
- height
- From to accounts
- value transferred
- Gas limit
- Gas used
- Nonce

Eth Block Details:
- Height
- Hash
- Difficulty
- Size
- Gas used
- Gas limit
- Nonce
- Block reward


### Etherum Operations




